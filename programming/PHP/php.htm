<head>
    <script src="../../libs/jquery-3.3.1.slim.min.js" ></script>

    <!--script src="../../libs/tooltip/tooltip.js" type="text/javascript"></script-->
    <!--link href="../../libs/tooltip/tooltip.css" rel="stylesheet" type="text/css" /-->
    <link rel="stylesheet" href="../../assets/css/block.css">
    <link rel="stylesheet" href="../../libs/highlight/androidstudio2.css">
    <script src="../../libs/jquery-3.3.1.slim.min.js" ></script>
    <script src="../../libs/highlight/highlight.pack.js"></script>
    <script src="../../assets/js/block.js"></script>
    <meta charset="UTF-8">
    
    <script>
          $('code').each(function() {
          var that = $(this);
          // cache the content of 'code'
          var html = that.html().trim();
          that.empty();
          // escape the content
          that.text(html);
        });
        
        hljs.initHighlightingOnLoad();
    </script>
</head>
<body>
<script>
    var objPHP=BlockGroup("PHP basics");
    Block({title:"path of php.exe",code:"where php.exe",parent:objPHP});
    Block({title:"path of php.ini",code:"php --ini",parent:objPHP});
    sCode="&lt!DOCTYPE html>&lthtml>"+"<br>"+"&ltbody>"+"<br>";
    sCode+="&lt?php "+"<br>";
    sCode+="echo \"My first PHP script!\""+"<br>";
    sCode+="?> &lt/body>&lt/html>"+"<br>";
    Block({title:"Where to write code?",
     body:"1. in a file with extention .php<br>2. inside an html file:",
     code:sCode,parent:objPHP});

    Block({title:"online code playground",
body:`<a href='https://www.ideone.com/ryTuHp'>ideone </a>
<a href="http://codepad.org/w4gyeryk">codepad</a>`    
,parent:objPHP}); 
    Block({
        title:"comments",
        body:"are like C++ : \// , \/*...*\/",parent:objPHP
});

    sCode="&lt?php echo \"i like it\" ?>"+"<br>";
    sCode+="&lt?php print \"I like it\" ?>";
    
    Block({title:"writing a statement", body:"  'Echo' and 'PRINT' :",code:sCode,parent:objPHP});

	
Block({title:"Debugging",
       Body:`Add this code to top of your php code to show error messages"`,
       code:`<?php 
       ini_set("display_errors",1);
       error_reporting(E_ALL);
        //code goes here
?>`});
    sCode="&lt?php<br>$like=\"I like it\"<br>print $like ?>";

Block({title:"Variables",
body:`- Don't need definition.
- They begin with $ 
- Are case sensitive`,code:sCode,parent:objPHP});
    
Block({title:"Combining Strings",body:"use dot (.)",
  code:"print $like .\" \" .$num;",parent:objPHP});

    sCode="$test=\"success\";<br>$primary=\"test\";<br>$ID=${$primary};<br>echo $ID;";

Block({title:"Dynamic variable names",code:sCode,parent:objPHP});

Block({title:"Global variables",code:"function printname()"
    +"<br>{"
    +"<br>global $name;"+
    "<br>include 'variables.php';"+
    "<br>print $name;<br>};",parent:objPHP});
    Block({title:"Arrays",
    code:"$cars = array(\"Volvo\", \"BMW\");<br/>"+
    "echo \"The car were \" . $cars[1] . \"" 
,parent:objPHP  });

  Block({title:"Operators",body:"The same as C++ :",code:"+ -/ * ..",parent:objPHP});
  Block({title:"If",body:"The same as C++",
    code:` if ($arr)
     {$price=0.90;}
     else{..}`,parent:objPHP});

    Block({title:"Loops",body:"The same as C++",
    code:"for($num=1;$num<=10;$num++)<br>{print $num.\" \";}"+
        "<br>while($num<=10)   {  ...   }<br>"+
        "$a=array(1,2,3,4,5);<br>"+
        "foreach($a as $b)<br>"+
        "{    print $b.\" \";}",parent:objPHP});
  
    
    Block({title:"Functions",code:"function examplefunc()"+
    "<br>{<br>  print \"Hi < br>\";<br>}"+
    "<br>print \"sample line:&ltbr>\""+
    "<br>examplefunc();"+
    "<br>$s=examplefunc();"+
    "<br>print $s;",parent:objPHP});

Block({title:"by <b>reference</b> function arguments",body:"By adding & before variable",
    code:"function add_some( &$str2 ){<br>..}",parent:objPHP});

Block({title:"<b>Default Argument</b> of functions",
    code:"function makeCoffe(<br>"
    +" $types=array(\"cappuccino\",$coffeMaker=Null ))"+"<br>"+"{..}",parent:objPHP});

  Block({title:`include`,
    body:`To include other php files to a php file,use :
INCLUDE(),REQUIRE()
Even text or html files can be included 
Example :`,
code:`Include
  'http://www.site.com/file.php';`,parent:objPHP});
  Block({title:`Include example`,
body:`Include 'filename';//or
require 'filename';`,
code:`&lthtml>
&ltbody>
&ltdiv class="menu">
&lt?php include 'menu.php';?>
&lt/div>
&lth1>Welcome to my home page!&lt/h1>
&ltp>Some text.&lt/p>
&ltp>Some more text.&lt/p>
&lt/body>
&lt/html>
`,parent:objPHP});
Block({title:"Classes"
,code:`class test{
public static function run(){
    print "works\n";
}
$ClassName='test';
$ClassName::run();
}`,parent:objPHP});
Block({title:"Finding IP of the Visitors:",code:`Getenv("REMOTE_ADDR")`,parent:objPHP});
Block({title:"Uploading files",code:`&ltform enctype="multipart/form-data" 
action="upload.php" method="post">
Choose the file :
&ltinput name="uploaded" type="file" />&ltbr />
&ltinput type="submit" value="Upload" />
&lt/form>`,parent:objPHP});


Block({title:"Forms",body:"A Simple HTML Form",code:`&lthtml>
&ltbody>
&ltform action="welcome.php"
method="post">
Name:   &ltinput type="text" name="name">
&ltbr>
E-mail:&ltinput type="text" name="email">
&ltbr>
&ltinput type="submit">
&lt/form>
&lt/body>
&lt/html>`,parent:objPHP});

/*---------------------------------------------------*/
    var objSession=BlockGroup("Session variables");
 Block({title:"1. define them",
    code:`session_start();
$_SESSION['Color']='red';
$_SESSION['size']='small';
...`,parent:objSession});
Block({title:"2. Then use those variables",
body:"in the second page :",
code:`session_start();
    echo $_SESSION['color'];
    echo $_SESSION['size'];`,parent:objSession});
Block({title:"print the whole session",code:"print_r($SESSION)",parent:objSession});
Block({title:"To delete a session variable",body:"use <b>unset</b>",
code:`$_SESSION['size']='larg';
unset( $_SESSION['shape']);
//For total deletion     : 
session_unset();
session_destroy();`,parent:objSession});

/*---------------------------------------------------*/
var objFileOp=BlockGroup("Files Operations");

   Block({title:"fopen function:",
    code:`$a=fopen("/home/files/yourfile.txt","r");
$b=fopen("yourfile.gif","w");
//r   determines mode 
//other modes for opening files:
x+,x,a+,a,w+,w-,r+,r-
`,parent:objFileOp});
Block({title:"some functions to work with files",
code:`fwrite();
file_get_contents();
//returns the whole file as an string
file();
fgets();// to read line by line
fread();`,parent:objFileOp});
Block({title:"file() Example:",
code:`$lines=file('yourfile.txt');
foreach($lines as $line_num=>$line)
{
print
"<font color='red'> line # {$line_num}</font>;"
.$line."< br/>\n";
}`,parent:objFileOp});
Block({title:"fgets() Example",
code:`$myFile="yourfile.txt";
$handle=fopen($myFile,'r');
while(!feof($handle))
{
$data=fgets($handle,512);
echo $data;
echo "<br>";
}
fclose($handle);`,parent:objFileOp});
/*-----------------------------------------*/
var objPhpMySql=BlockGroup("phpMysql");
//<b>Open a Connection to MySQL </b>
Block({title:"MySQLi Object-Oriented",
code:`$servername = "localhost";
    $username = "username";
    $password = "password";

    // Create connection
    $conn = new mysqli($servername, 
             $username, $password);

    // Check connection
    if ($conn->connect_error) {
        die("Connection failed: "
         . $conn->connect_error);
    }
    echo "Connected successfully";`,parent:objPhpMySql} );
Block({title:"MySQLi Procedural",
code:`$servername = "localhost";
$username = "username";
$password = "password";

// Create connection
$conn = mysqli_connect($servername, 
             $username, $password);

// Check connection
if (!$conn) {
    die("Connection failed: " .
         mysqli_connect_error());
}
echo "Connected successfully";`,parent:objPhpMySql});
Block({title:"PDO",
code:`$servername = "localhost";
$username = "username";
$password = "password";
$dbname = "myDBPDO";
try {$conn = new PDO("mysql:host=$servername;dbname=$dbname", 
    $username, $password);
    // set the PDO error mode to exception
    $conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    $sql = "INSERT INTO Guest (fname,lname)VALUES ('John', 'Doe')";
    // use exec() because no results are returned
    $conn->exec($sql);
    echo "New record created successfully";
        $last_id = $conn->lastInsertId();
    echo "New record created successfully.
    Last inserted ID is: " . $last_id;
}catch(PDOException $e) {
    echo $sql . "< br>" . $e->getMessage();
 }
$conn = null;`,parent:objPhpMySql});

var objPhpWs=BlockGroup("webservice");
Block({title:"Hello world,sample",
code:`
<?php
// to test, use this sample url http://localhost/ws/1.webservice_HelloWorld.php?user=2
if(isset($_GET['user']) && intval($_GET['user'])) {
	$format ='json';
	$user_id = intval($_GET['user']); //no default
	$posts = array("hi","4544",$user_id );
	header('Content-type: application/json');
	echo json_encode(array('posts'=>$posts));
}
?>`,parent:objPhpWs});
</script>
